(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{371:function(t,a,e){"use strict";e.r(a);var n=e(42),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"table-addmany-consoletable"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#table-addmany-consoletable"}},[t._v("#")]),t._v(" Table.addMany(), .consoleTable()")]),t._v(" "),e("div",{staticClass:"lake-content-editor-core lake-engine lake-typography-classic",attrs:{"data-lake-element":"root","data-selection-2310303":"%7B%22path%22%3A%5B%5B17%2C0%2C57%5D%2C%5B17%2C0%2C57%5D%5D%2C%22uuid%22%3A%222310303%22%2C%22active%22%3Atrue%7D"}},[e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"da577a495f69c68e70b3b773209f05e6"}},[t._v("GoDB 允许一次"),e("strong",[t._v("添加多条数据")]),t._v("：")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"aa2def5147ff280d0a9b94b6f1c1495f"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"8b2376bf3cef312e7273633a9c13372d"}},[t._v("Table.addMany(data) 方法")]),e("ul",{staticStyle:{"list-style-type":"disc",margin:"0px","padding-left":"23px","font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word"},attrs:{"data-lake-id":"1fb9ac798e7022722ca4e48029d7df97",start:"-","lake-indent":"0"}},[e("li",{attrs:{"data-lake-id":"7b8b0fd62aa8910bdc3b5d261c4ba7ac"}},[t._v("接受一个数组 ​"),e("code",[t._v("​data")]),t._v("​")]),e("li",{attrs:{"data-lake-id":"988eb1349263393732f5f535bbe91eea"}},[t._v("返回装有完整数据的数组")]),e("li",{attrs:{"data-lake-id":"40965135971a67f97e55bb944f734463"}},[t._v("严格按照 "),e("code",[t._v("data")]),t._v(" 的顺序添加")]),e("li",{attrs:{"data-lake-id":"b34a7f75c8c9240cf7cf472393a730ac"}},[t._v("返回 id 的数组，与 "),e("code",[t._v("data")]),t._v(" 顺序一致")])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"e9febf56afc25836e1e7973d09ca2666"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"58258f5f8004911a4ad5b0d6caca33e3"}},[t._v("之所以单独写个 "),e("code",[t._v("addMany")]),t._v("，而不在 "),e("code",[t._v("add")]),t._v(" 里加一个判断数组的逻辑，是因为用户想要的，可能就是添加一个数组到数据库中")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"b79e5a45b6d42d4f42d32961e6d42c7e"}},[e("br")]),e("div",{attrs:{"data-card-type":"block","data-lake-card":"codeblock",id:"d7930e32","data-language":"javascript"}},[e("div",{},[e("div",{},[e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" GoDB "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'godb'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Godb")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'testDB'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("table")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'user'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'luke'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       age"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       name"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'elaine'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       age"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nuser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addMany")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(""),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("")]),t._v(" console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(""),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("")]),t._v(" user"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("consoleTable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     {")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          id: 1,")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         name: 'luke',")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         age: 22")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     },")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     {")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          id: 2,")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         name: 'elaine',")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         age: 23")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ] ")]),t._v("\n")])])])])])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"2a8645a52b2452836b23454cc3cca935"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"693a86a5acdc6946bd5a8c2c8794f284"}},[e("strong",[t._v("Table.consoleTable()")])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"942677c2e203da9d583624000bd5785e"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f0b64cb052b052dd5b33a9c0432c32f2"}},[t._v("这里还用了一个 "),e("code",[t._v("Table.consoleTable()")]),t._v(" 的方法，它会在浏览器的控制台打印出下面的内容：")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"1a03cbf294bd26ed0ee9d15f20587c00"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"20de3bedbe266643c66e1b2c608cdb2b"}},[e("span",{attrs:{"data-card-type":"inline","data-lake-card":"image"}},[e("img",{staticClass:"image lake-drag-image",staticStyle:{visibility:"visible",width:"1142px"},attrs:{"data-role":"image",src:"https://cdn.nlark.com/yuque/0/2021/png/2310303/1612416708563-36899ff6-c8a3-4187-8030-a540c51bfd56.png","data-raw-src":"",alt:"image",title:"image","data-height":"118px"}})])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"964189040b20f4dddf95972fe9ddc12b"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"bba7be11a231d5be49a624c4a53d12aa"}},[t._v("这里的 (index) 就是 "),e("code",[t._v("id")])]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"228f8f8f94a71721ac64b01d358bfd97"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"f90b0d98332c18a9010c75bf3f8b0d32"}},[t._v("虽然 chrome 开发者工具内就能看到表内所有数据，但这个方法好处是可以在需要的时候打印出数据，方便 debug")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"6d75594f3edb7a8aa11dd7f682762737"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"77fa7ab087fef5e2846a542bf31e9471"}},[t._v("注意：​"),e("code",[t._v("​Table.consoleTable()")]),t._v("​ 方法是异步的，因为需要在数据库里把数据库取出来；异步意味着紧接在它后面的代码，可能会在打印出结果之前执行，如果不希望出现这种情况，使用 "),e("code",[t._v("await")]),t._v(" 或 "),e("code",[t._v("Promise.then")]),t._v(" 即可")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"9205548dea7c219e6cb143ae2f27b39a"}},[e("br")]),e("p",{staticStyle:{"font-size":"14px",color:"rgb(38, 38, 38)","line-height":"1.74","letter-spacing":"0.05em","outline-style":"none","overflow-wrap":"break-word",margin:"0px"},attrs:{"data-lake-id":"16b0a8c4c90ec39ab49b94f465abf585"}},[t._v("注意："),e("code",[t._v("addMany")]),t._v(" 和 "),e("code",[t._v("add")]),t._v(" 不要同步调用，如果在 "),e("code",[t._v("addMany")]),t._v(" 正在执行时调用 "),e("code",[t._v("add")]),t._v("，可能会导致数据库里的顺序不符合预期，请在 "),e("code",[t._v("addMany")]),t._v(" 的回调完成后再调用 "),e("code",[t._v("add")]),t._v("（未来可能会引入一个队列来修复这个问题）")])])])}),[],!1,null,null,null);a.default=s.exports}}]);